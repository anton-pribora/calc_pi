# Пояснения к example2.php

В этом примере, как и в предыдущем, используется стандартная функция `pcntl_fork()`, 
но обработка результатов происходит в родительском процессе, а не внешнем. Общение между 
процессами сделано через пары связанных сокетов, которые поднимаются функцией `stream_socket_pair()`.

## Пример запуска

```bash
% php example2.php      
Результат расчёта PI: 3.14127
Протестировано точек: 40,000,000
Время работы: 15.513 сек.
Скорость работы: 2,578,522 точек в секунду
Количество процессов: 4
```

## Достоинства

+ обработка итоговых данных сделана в родительском процессе;
+ родительский и дочерние процессы могут обмениваться данными.

В данном примере вся логика работы находится в одном файле.

## Недостатки

+ функция `pcntl_fork()` полностью копирует рабочее окружение родительского процесса, включая соединения с внешними источниками данных;
+ сокеты имеют внутренние ограничения на передачу данных.
