# Пояснения к example1_fork.php

В этом примере используется запуск дочерних процессов через стандартную функцию `pcntl_fork()`. Подпроцессы никак не взаимодействуют с родительским процессом, а все результаты выводят в стандартный поток вывода. Чтобы получить итоговый расчёт данных, нужно все результаты отправить на входной поток `example1_parse_result.php`.

## Примеры запуска

Запуск расчётов в два процесса 100,000 точек:

```bash
% php example1_fork.php 1e5 2                           
{"pi":3.14608,"progress":100,"pointsPerSec":441394,"total":{"points":100000,"inCircle":78652},"iteration":{"points":100000,"inCircle":78652},"pid":12058}
{"pi":3.13248,"progress":100,"pointsPerSec":444166,"total":{"points":100000,"inCircle":78312},"iteration":{"points":100000,"inCircle":78312},"pid":12059}
```

Запуск расчётов с итоговой обработкой результатов:

```bash
% php example1_fork.php 1e5 2 | php example1_parse_result.php 
Результат расчёта PI: 3.14376
Протестировано точек: 200,000
Время работы: 0.212 сек.
Скорость работы: 942,281 точек в секунду
Количество процессов: 2
```

## Достоинства

Этот метод довольно простой в реализации. Его можно использовать, когда задачу можно разделить на части, а количество подпроцессов заранее известно.

## Недостатки

+ фиксированное количество подпроцессов;
+ подпроцессы не могут передать результаты в родительский процесс.